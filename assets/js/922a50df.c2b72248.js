"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[224],{3153:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"responses","title":"HTTP Responses","description":"In Jazzy, HTTP responses are created using the Response class and ResponseFactory. Thanks to the fluent API inspired by Laravel, different response types can be easily created.","source":"@site/docs/responses.md","sourceDirName":".","slug":"/responses","permalink":"/jazzy-framework/docs/responses","draft":false,"unlisted":false,"editUrl":"https://github.com/canermastan/jazzy-framework/tree/main/jazzy/docs/docs/responses.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ResponseFactory Class","permalink":"/jazzy-framework/docs/response_factory"},"next":{"title":"Routing","permalink":"/jazzy-framework/docs/routing"}}');var a=s(4848),t=s(8453);const l={},i="HTTP Responses",o={},d=[{value:"Response Object",id:"response-object",level:2},{value:"Using ResponseFactory",id:"using-responsefactory",level:2},{value:"JSON Responses",id:"json-responses",level:3},{value:"JSON Response with an Object",id:"json-response-with-an-object",level:4},{value:"JSON Response with Key-Value Pairs",id:"json-response-with-key-value-pairs",level:4},{value:"Success Responses",id:"success-responses",level:3},{value:"Error Responses",id:"error-responses",level:3},{value:"HTML Responses",id:"html-responses",level:3},{value:"Text Responses",id:"text-responses",level:3},{value:"Redirect Responses",id:"redirect-responses",level:3},{value:"HTTP Durum Kodlar\u0131",id:"http-durum-kodlar\u0131",level:2},{value:"\xd6zel Header&#39;lar",id:"\xf6zel-headerlar",level:2},{value:"Metod Zincirleme (Method Chaining)",id:"metod-zincirleme-method-chaining",level:2},{value:"\xd6rnekler",id:"\xf6rnekler",level:2},{value:"Standart CRUD Yan\u0131tlar\u0131",id:"standart-crud-yan\u0131tlar\u0131",level:3},{value:"Do\u011frulama Hatalar\u0131",id:"do\u011frulama-hatalar\u0131",level:3},{value:"Farkl\u0131 Yan\u0131t Tipleri Kullanarak Kapsaml\u0131 Bir \xd6rnek",id:"farkl\u0131-yan\u0131t-tipleri-kullanarak-kapsaml\u0131-bir-\xf6rnek",level:3},{value:"Sonraki Ad\u0131mlar",id:"sonraki-ad\u0131mlar",level:2}];function c(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"http-responses",children:"HTTP Responses"})}),"\n",(0,a.jsxs)(r.p,{children:["In Jazzy, HTTP responses are created using the ",(0,a.jsx)(r.code,{children:"Response"})," class and ",(0,a.jsx)(r.code,{children:"ResponseFactory"}),". Thanks to the fluent API inspired by Laravel, different response types can be easily created."]}),"\n",(0,a.jsx)(r.h2,{id:"response-object",children:"Response Object"}),"\n",(0,a.jsxs)(r.p,{children:["The ",(0,a.jsx)(r.code,{children:"Response"})," object contains the following properties:"]}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Status Code"}),": HTTP status code (200, 201, 404, etc.)"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Body"}),": Response body (JSON, text, HTML, etc.)"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Content Type"}),": Response content type"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Headers"}),": HTTP headers"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"using-responsefactory",children:"Using ResponseFactory"}),"\n",(0,a.jsxs)(r.p,{children:["The ",(0,a.jsx)(r.code,{children:"ResponseFactory"})," class is a helper class accessible via the ",(0,a.jsx)(r.code,{children:"response()"})," static method. This class allows you to easily create different response types."]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"import static jazzyframework.http.ResponseFactory.response;\n"})}),"\n",(0,a.jsx)(r.h3,{id:"json-responses",children:"JSON Responses"}),"\n",(0,a.jsx)(r.p,{children:"There are several ways to create JSON responses:"}),"\n",(0,a.jsx)(r.h4,{id:"json-response-with-an-object",children:"JSON Response with an Object"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response getUser(Request request) {\r\n    User user = findUser(request.path("id"));\r\n    \r\n    return response().json(user);\r\n}\n'})}),"\n",(0,a.jsx)(r.h4,{id:"json-response-with-key-value-pairs",children:"JSON Response with Key-Value Pairs"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response getUserById(Request request) {\r\n    String id = request.path("id");\r\n    \r\n    return response().json(\r\n        "id", id,\r\n        "name", "Ahmet Y\u0131lmaz",\r\n        "email", "ahmet@example.com",\r\n        "age", 32,\r\n        "active", true\r\n    );\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"success-responses",children:"Success Responses"}),"\n",(0,a.jsxs)(r.p,{children:["You can use the ",(0,a.jsx)(r.code,{children:"success()"})," method to create standard success responses:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response createUser(Request request) {\r\n    User user = request.toObject(User.class);\r\n    user.setId(generateId());\r\n    \r\n    // Save the user\r\n    \r\n    return response().success("User created successfully");\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"Success response with data:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response createUser(Request request) {\r\n    User user = request.toObject(User.class);\r\n    user.setId(generateId());\r\n    \r\n    // Save the user\r\n    \r\n    return response().success("User created successfully", user);\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"error-responses",children:"Error Responses"}),"\n",(0,a.jsx)(r.p,{children:"For error responses, you can create JSON responses directly:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response getUserById(Request request) {\r\n    String id = request.path("id");\r\n    User user = findUser(id);\r\n    \r\n    if (user == null) {\r\n        return response().json(\r\n            "status", "error",\r\n            "message", "User not found"\r\n        ).status(404);\r\n    }\r\n    \r\n    return response().json(user);\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"Error with custom HTTP status code:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response getUserById(Request request) {\r\n    String id = request.path("id");\r\n    \r\n    if (!isValidId(id)) {\r\n        return response().json(\r\n            "status", "error",\r\n            "message", "Invalid user ID"\r\n        ).status(400);\r\n    }\r\n    \r\n    User user = findUser(id);\r\n    \r\n    if (user == null) {\r\n        return response().json(\r\n            "status", "error",\r\n            "message", "User not found"\r\n        ).status(404);\r\n    }\r\n    \r\n    return response().json(user);\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"html-responses",children:"HTML Responses"}),"\n",(0,a.jsxs)(r.p,{children:["You can use the ",(0,a.jsx)(r.code,{children:"html()"})," method for HTML responses:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response getUserProfile(Request request) {\r\n    String id = request.path("id");\r\n    User user = findUser(id);\r\n    \r\n    String html = "<html><body>" +\r\n                  "<h1>User Profile: " + user.getName() + "</h1>" +\r\n                  "<p>Email: " + user.getEmail() + "</p>" +\r\n                  "</body></html>";\r\n    \r\n    return response().html(html);\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"text-responses",children:"Text Responses"}),"\n",(0,a.jsxs)(r.p,{children:["You can use the ",(0,a.jsx)(r.code,{children:"text()"})," method for plain text responses:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response getVersion(Request request) {\r\n    return response().text("Jazzy Framework v1.0.0");\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"redirect-responses",children:"Redirect Responses"}),"\n",(0,a.jsxs)(r.p,{children:["You can use the ",(0,a.jsx)(r.code,{children:"redirect()"})," method to redirect the user to another URL:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response redirectToLogin(Request request) {\r\n    return response().redirect("/login");\r\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"http-durum-kodlar\u0131",children:"HTTP Durum Kodlar\u0131"}),"\n",(0,a.jsxs)(r.p,{children:["Yan\u0131t\u0131n\u0131z\u0131n HTTP durum kodunu ayarlamak i\xe7in ",(0,a.jsx)(r.code,{children:"status()"})," metodunu kullanabilirsiniz:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response createResource(Request request) {\r\n    // Kayna\u011f\u0131 olu\u015ftur\r\n    \r\n    return response().json(\r\n        "message", "Resource created",\r\n        "id", newResourceId\r\n    ).status(201); // 201 Created\r\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"\xf6zel-headerlar",children:"\xd6zel Header'lar"}),"\n",(0,a.jsxs)(r.p,{children:["Yan\u0131t\u0131n\u0131za \xf6zel header'lar eklemek i\xe7in ",(0,a.jsx)(r.code,{children:"header()"})," metodunu kullanabilirsiniz:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response getCachedData(Request request) {\r\n    // Verileri al\r\n    \r\n    return response().json(data)\r\n        .header("Cache-Control", "max-age=3600")\r\n        .header("X-API-Version", "1.0");\r\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"metod-zincirleme-method-chaining",children:"Metod Zincirleme (Method Chaining)"}),"\n",(0,a.jsx)(r.p,{children:"Jazzy'nin fluent API'si, metod zincirlemesini destekler:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response complexResponse(Request request) {\r\n    return response().json(data)\r\n        .status(201)\r\n        .header("X-Custom-Header", "Value")\r\n        .header("Cache-Control", "no-cache");\r\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"\xf6rnekler",children:"\xd6rnekler"}),"\n",(0,a.jsx)(r.h3,{id:"standart-crud-yan\u0131tlar\u0131",children:"Standart CRUD Yan\u0131tlar\u0131"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'// Create\r\npublic Response createUser(Request request) {\r\n    Map<String, Object> userData = request.parseJson();\r\n    String newId = generateId();\r\n    userData.put("id", newId);\r\n    \r\n    // Kullan\u0131c\u0131y\u0131 kaydet\r\n    \r\n    return response().success("User created", userData).status(201);\r\n}\r\n\r\n// Read\r\npublic Response getUser(Request request) {\r\n    String id = request.path("id");\r\n    User user = findUser(id);\r\n    \r\n    if (user == null) {\r\n        return response().json(\r\n            "status", "error",\r\n            "message", "User not found"\r\n        ).status(404);\r\n    }\r\n    \r\n    return response().json(user);\r\n}\r\n\r\n// Update\r\npublic Response updateUser(Request request) {\r\n    String id = request.path("id");\r\n    Map<String, Object> userData = request.parseJson();\r\n    userData.put("id", id);\r\n    \r\n    // Kullan\u0131c\u0131y\u0131 g\xfcncelle\r\n    \r\n    return response().success("User updated", userData);\r\n}\r\n\r\n// Delete\r\npublic Response deleteUser(Request request) {\r\n    String id = request.path("id");\r\n    \r\n    // Kullan\u0131c\u0131y\u0131 sil\r\n    \r\n    return response().success("User deleted");\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"do\u011frulama-hatalar\u0131",children:"Do\u011frulama Hatalar\u0131"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response createUser(Request request) {\r\n    ValidationResult result = request.validate(new UserCreateRules());\r\n    \r\n    if (!result.isValid()) {\r\n        return response().json(\r\n            "status", "error",\r\n            "message", "Validation failed",\r\n            "errors", result.getAllErrors()\r\n        ).status(400);\r\n    }\r\n    \r\n    // Do\u011frulama ba\u015far\u0131l\u0131, i\u015fleme devam et\r\n    Map<String, Object> userData = request.parseJson();\r\n    userData.remove("password"); // Hassas veriyi kald\u0131r\r\n    \r\n    // Kullan\u0131c\u0131y\u0131 kaydet\r\n    String newId = "user-" + System.currentTimeMillis();\r\n    userData.put("id", newId);\r\n    \r\n    return response().success("User created successfully", userData).status(201);\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"farkl\u0131-yan\u0131t-tipleri-kullanarak-kapsaml\u0131-bir-\xf6rnek",children:"Farkl\u0131 Yan\u0131t Tipleri Kullanarak Kapsaml\u0131 Bir \xd6rnek"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public Response processUserRequest(Request request) {\r\n    String action = request.query("action", "view");\r\n    String id = request.path("id");\r\n    \r\n    User user = findUser(id);\r\n    if (user == null) {\r\n        return response().json(\r\n            "status", "error",\r\n            "message", "User not found"\r\n        ).status(404);\r\n    }\r\n    \r\n    switch (action) {\r\n        case "view":\r\n            return response().json(user);\r\n            \r\n        case "view-html":\r\n            return response().html("<h1>User: " + user.getName() + "</h1>");\r\n            \r\n        case "download":\r\n            return response().text(user.toString())\r\n                .header("Content-Disposition", "attachment; filename=\\"user-" + id + ".txt\\"");\r\n            \r\n        case "profile":\r\n            return response().redirect("/users/" + id + "/profile");\r\n            \r\n        default:\r\n            return response().json(\r\n                "status", "error",\r\n                "message", "Unknown action: " + action\r\n            ).status(400);\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"sonraki-ad\u0131mlar",children:"Sonraki Ad\u0131mlar"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Veri do\u011frulama hakk\u0131nda daha fazla bilgi i\xe7in ",(0,a.jsx)(r.a,{href:"/jazzy-framework/docs/validation",children:"Do\u011frulama"})," belgesine bak\u0131n"]}),"\n",(0,a.jsxs)(r.li,{children:["JSON olu\u015fturma ve i\u015fleme hakk\u0131nda bilgi almak i\xe7in ",(0,a.jsx)(r.a,{href:"/jazzy-framework/docs/json",children:"JSON \u0130\u015flemleri"})," belgesini inceleyin"]}),"\n",(0,a.jsxs)(r.li,{children:["Kapsaml\u0131 \xf6rnekler i\xe7in ",(0,a.jsx)(r.a,{href:"/jazzy-framework/docs/examples",children:"\xd6rnekler"})," belgesine g\xf6z at\u0131n"]}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>l,x:()=>i});var n=s(6540);const a={},t=n.createContext(a);function l(e){const r=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(t.Provider,{value:r},e.children)}}}]);