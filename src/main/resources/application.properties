# JazzyFramework Database Configuration
# This file demonstrates how to configure database connections for your application.
# The framework supports H2 (embedded), MySQL, and PostgreSQL out of the box.

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Enable/disable database functionality
jazzy.database.enabled=true

# ============================================================================
# H2 DATABASE (Default - for development)
# ============================================================================
# H2 is automatically configured if no other database is specified
# Uncomment and modify these settings to customize H2 behavior

jazzy.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
jazzy.datasource.driver-class-name=org.h2.Driver
jazzy.datasource.username=sa
jazzy.datasource.password=

# H2 Console (accessible at http://localhost:8082)
jazzy.h2.console.enabled=true

# ============================================================================
# MYSQL DATABASE (Production example)
# ============================================================================
# Uncomment these lines to use MySQL instead of H2
# Make sure you have MySQL running and the database created

#jazzy.datasource.url=jdbc:mysql://localhost:3306/jazzy_app?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
#jazzy.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#jazzy.datasource.username=your_username
#jazzy.datasource.password=your_password

# ============================================================================
# POSTGRESQL DATABASE (Production example)
# ============================================================================
# Uncomment these lines to use PostgreSQL instead of H2
# Make sure you have PostgreSQL running and the database created

#jazzy.datasource.url=jdbc:postgresql://localhost:5432/jazzy_app
#jazzy.datasource.driver-class-name=org.postgresql.Driver
#jazzy.datasource.username=your_username
#jazzy.datasource.password=your_password

# ============================================================================
# HIBERNATE/JPA CONFIGURATION
# ============================================================================

# Database platform (automatically detected if not specified)
jazzy.jpa.database-platform=org.hibernate.dialect.H2Dialect

# DDL mode: none, validate, update, create, create-drop
jazzy.jpa.hibernate.ddl-auto=update

# Show SQL queries in console (useful for debugging)
jazzy.jpa.show-sql=true

# Format SQL queries for better readability
jazzy.jpa.properties.hibernate.format_sql=true

# Additional Hibernate properties
jazzy.jpa.properties.hibernate.use_sql_comments=true
jazzy.jpa.properties.hibernate.jdbc.batch_size=20
jazzy.jpa.properties.hibernate.order_inserts=true
jazzy.jpa.properties.hibernate.order_updates=true

# ============================================================================
# CONNECTION POOL CONFIGURATION (HikariCP)
# ============================================================================

# Maximum number of connections in the pool
jazzy.datasource.hikari.maximum-pool-size=10

# Minimum number of idle connections
jazzy.datasource.hikari.minimum-idle=2

# Connection timeout (milliseconds)
jazzy.datasource.hikari.connection-timeout=30000

# Idle timeout (milliseconds)
jazzy.datasource.hikari.idle-timeout=600000

# Maximum lifetime of a connection (milliseconds)
jazzy.datasource.hikari.max-lifetime=1800000

# ============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# ============================================================================

# Development (default - uses H2)
# - No additional configuration needed
# - H2 console available at http://localhost:8082
# - Database file is in-memory (data lost on restart)

# Testing (persistent H2 file)
# jazzy.datasource.url=jdbc:h2:file:./data/testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE

# Staging (MySQL example)
# jazzy.datasource.url=jdbc:mysql://staging-db:3306/jazzy_staging
# jazzy.datasource.username=staging_user
# jazzy.datasource.password=staging_password
# jazzy.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# Production (PostgreSQL example)
# jazzy.datasource.url=jdbc:postgresql://prod-db:5432/jazzy_production
# jazzy.datasource.username=prod_user
# jazzy.datasource.password=secure_password
# jazzy.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# jazzy.jpa.hibernate.ddl-auto=validate
# jazzy.jpa.show-sql=false

# ============================================================================
# NOTES
# ============================================================================
# 
# 1. Change jazzy.jpa.hibernate.ddl-auto to "validate" in production
# 2. Set jazzy.jpa.show-sql to false in production for performance
# 3. Always use strong passwords in production environments
# 4. Consider using environment variables for sensitive data
# 5. The framework automatically detects and registers @Entity classes
# 6. Repository interfaces extending BaseRepository are auto-implemented 